(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("frameMDI");this.set_scrolltype("none");this.set_titletext("frameMDI");this.set_scrollbartype("none");if(Form==this.constructor){this._setFormPosition(1058,30);}_a=new Dataset("dsTab",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"TAB_ID\" type=\"STRING\" size=\"256\"/><Column id=\"TITLE\" type=\"STRING\" size=\"256\"/><Column id=\"TITLE_KO\" type=\"STRING\" size=\"256\"/><Column id=\"WIN_ID\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static01","0","32",null,"1","0",null,null,null,null,null,this);_a.set_taborder("8");this.addChild(_a.name,_a);_a=new Static("sta00","0","0",null,"30","0",null,null,null,null,null,this);_a.set_taborder("10");_a.set_cssclass("sta_MDI_Bg");this.addChild(_a.name,_a);_a=new Button("btnHome","0","50","30","30",null,null,null,null,null,null,this);_a.set_taborder("9");_a.set_cssclass("btn_MDI_Home");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btnPreMdi",null,"5","21","21","146",null,null,null,null,null,this);_a.set_taborder("0");_a.set_visible("true");_a.set_cssclass("btn_MDI_Pre");this.addChild(_a.name,_a);_a=new Button("btnNexMdi",null,"5","21","21","126",null,null,null,null,null,this);_a.set_taborder("1");_a.set_visible("true");_a.set_cssclass("btn_MDI_Nxt");this.addChild(_a.name,_a);_a=new Button("btnMaximize",null,"5","21","21","90",null,null,null,null,null,this);_a.set_taborder("2");_a.set_cssclass("btn_MDI_Max");this.addChild(_a.name,_a);_a=new Button("btnCascade",null,"5","21","21","70",null,null,null,null,null,this);_a.set_taborder("3");_a.set_cssclass("btn_MDI_Min");this.addChild(_a.name,_a);_a=new Button("btnCloseAll",null,"5","21","21","10",null,null,null,null,null,this);_a.set_taborder("4");_a.set_tooltiptext("Close All");_a.set_cssclass("btn_MDI_Allx");this.addChild(_a.name,_a);_a=new Button("btnHorizontal",null,"5","21","21","50",null,null,null,null,null,this);_a.set_taborder("5");_a.set_cssclass("btn_MDI_H");this.addChild(_a.name,_a);_a=new Button("btnTilevertical",null,"5","21","21","30",null,null,null,null,null,this);_a.set_taborder("6");_a.set_cssclass("btn_MDI_V");this.addChild(_a.name,_a);_a=new Button("btn00","38","130","134","35",null,null,null,null,null,null,this);_a.set_taborder("11");_a.set_text("화면명 01");_a.set_cssclass("btn_MDI_Btn");_a.set_enable("true");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn01","142","130","30","32",null,null,null,null,null,null,this);_a.set_taborder("12");_a.set_cssclass("btn_MDI_X");this.addChild(_a.name,_a);_a=new Button("btn02","172","130","134","35",null,null,null,null,null,null,this);_a.set_taborder("13");_a.set_text("선택된 화면");_a.set_cssclass("btn_MDI_BtnS");_a.set_enable("true");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btn03","276","130","30","32",null,null,null,null,null,null,this);_a.set_taborder("14");_a.set_cssclass("btn_MDI_X");this.addChild(_a.name,_a);_a=new Button("btnStyle","63","60","134","28",null,null,null,null,null,null,this);_a.set_taborder("15");_a.set_text("화면명 01");_a.set_cssclass("btn_MDI_Mnu");_a.set_enable("true");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Div("divTab","5","0",null,"30","218",null,null,null,null,null,this);_a.set_taborder("7");this.addChild(_a.name,_a);_a=new Static("Static02","0","1",null,"1","0",null,null,null,null,null,this);_a.set_taborder("16");_a.set_cssclass("sta_MDI_TopLine");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.divTab.form,function(_b){});this.divTab.form.addLayout(_a.name,_a);_a=new Layout("default","",this._adjust_width,this._adjust_height,this,function(_b){});this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("FrameMDI.xfdl",function(){this.fvFirstGap=1;this.fvBtnGap=1;this.fvTabHeight=28;this.fvTabExtraRightGap=20;this.fvExtraWidth=20;this.fvExtraTop=0;this.fvExtraHeight=35;this.fvExtraBtnPrefix="EXTRA_";this.fvTabBtnPrefix="TAB_";this.fvArrangeType="maximize";this.objApp=this.gfnGetApplication();this.form_onload=function(_a,_b){this.divTab.form.set_scrollbartype("none");};this.fnDelTab=function(_b){var _c=this.dsTab.findRow("WIN_ID",_b);if(_c<0){return false;}var _d=this.fvTabBtnPrefix+_b;this.fnDelTabBtn(_d);this.dsTab.deleteRow(_c);this.fnRedrawTab();return true;};this.fnAddTab=function(_b,_c){var _d=this.dsTab.findRow("WIN_ID",_b);if(_d> -1){return _d;}var _e=this.fvTabBtnPrefix+_b;_d=this.dsTab.addRow();this.dsTab.setColumn(_d,"TAB_ID",_e);this.dsTab.setColumn(_d,"WIN_ID",_b);this.dsTab.setColumn(_d,"TITLE",_c);this.fnAddTabBtn(_e,_c);this.fnRedrawTab();this.bClose=true;return _d;};this.fnAddTabBtn=function(_b,_c){var _d;var _e;var _f=this.fvExtraBtnPrefix+_b;var _g=35;var _h="";if(this.gfnIsNull(this.fnFindObj(_b))){_d=new Button();_d.init(_b,this.fnGetLeft(_b),2,0,this.fvTabHeight,null,null);this.divTab.addChild(_d.name,_d);}_d.set_textAlign("center");_d.set_padding("0px 10px 0px 0px");_d.set_text(_c);_d.setEventHandler("onclick",this.btnTab_OnClick,this);_d.set_visible(true);_d.show();var _i=this.fnGetTextSizeCal(_c)[0]+40;_d.set_cssclass("btn_MDI_Mnu");_d.set_width(_i);if(this.fnFindObj(_f)==null&&_c!="MAIN"){_e=new Button();_e.init(_f,_d.getOffsetRight()-this.fvTabExtraRightGap,this.fvExtraTop,_d.getOffsetRight()-this.fvTabExtraRightGap+this.fvExtraWidth-(_d.getOffsetRight()-this.fvTabExtraRightGap),this.fvExtraTop+this.fvExtraHeight-this.fvExtraTop);this.fnAddObj(_f,_e);_e.set_cursor("hand");_e.setEventHandler("onclick",this.btnExtra_OnClick,this);_e.set_visible(true);_e.show();_e.set_cssclass("btn_MDI_X");}};this.fnMoveTab=function(_b){var _c=this.dsTab.findRow("WIN_ID",_b);if(_c<0){return _c;}var _d=this.fvTabBtnPrefix+_b;this.fnSetActive(_d);this.fnRedrawTab();};this.fnChangeTab=function(_b,_c){var _d=this.dsTab.findRow("WIN_ID",_b);var _e=this.dsTab.findRow("WIN_ID",_c);this.dsTab.moveRow(_d,_e);this.fnRedrawTab();};this.fnGetTab=function(_b){return this.dsTab.findRow("WIN_ID",_b);};this.fnGetCurTab=function(){if(this.dsTab.rowposition<0){return false;}return this.dsTab.getColumn(this.dsTab.rowposition,"WIN_ID");};this.fnGetTabInfo=function(_b,_c){var _d=this.dsTab.findRow("WIN_ID",_b);if(_d<0){return "";}return this.dsTab.getColumn(_d,_c);};this.fnGetTitle=function(_b){var _c=this.dsTab.findRow("winID",_b);if(this.lookup("nRow")<0){return "";}return this.dsTab.getColumn(_c,"TITLE");};this.fnSetTitle=function(_b,_c){var _d=this.dsTab.findRow("WIN_ID",_b);if(_d<0){return "";}var _e=this.fvTabBtnPrefix+_b;var _f=this.fnFindObj(_e);if((_f==null)||(_f=="")){return;}_f.set_text(_c);};this.btnTab_OnClick=function(_a,_b){var _c=_a.name.split(this.fvTabBtnPrefix).join("");this.isActiveFrame(_c);};this.btnExtra_OnClick=function(_a,_b){var _c=_a.name.split(this.fvTabBtnPrefix).join("").split(this.fvExtraBtnPrefix).join("");var _d=this.fnGetCurTab();this.isActiveFrame(_c);var _e=this.objApp.gvWorkFrame.frames;var _f=_e[_c].form.fnWorkFrameClose();if(_f){this.fnTabOnClose(_c);}};this.fnTabOnClose=function(_b){var _c=this.objApp.gvWorkFrame.frames;var _d=this.objApp.gdsOpenMenu.findRow(this.FRAME_MENUCOLUMNS.winId,_b);var _e=_d;var _f=this.objApp.gdsOpenMenu.deleteRow(_d);if(!this.gfnIsNull(_c[_b])&&_d> -1){this.bClose=false;var _g=this.objApp.gvWorkFrame.removeChild(_b);_g.destroy();_g=null;this.fnDelTab(_b);}if(_c.length>0){var _h=this.objApp.gdsOpenMenu.getColumn(this.objApp.gdsOpenMenu.rowposition,this.FRAME_MENUCOLUMNS.winId);this.fnSetActive(this.dsTab.getColumn(this.dsTab.findRow("WIN_ID",_h),"TAB_ID"));this.isActiveFrame(_h);}else{this.objApp.gvVFrameSet1.set_separatesize("30,*,0");this.objApp.gvMainFrame.form.setFocus();}};this.btnNexMdi_onclick=function(_a,_b){this.fnMoveFirst(this.fnGetFirstTabIndex()+1);this.fnRedrawTab();};this.btnPreMdi_onclick=function(_a,_b){this.fnMoveFirst(this.fnGetFirstTabIndex()-1);this.fnRedrawTab();};this.fnGetFirstTabIndex=function(){for(var _d=0;_d<this.dsTab.rowcount;_d++ ){var _b=this.dsTab.getColumn(_d,"TAB_ID");var _c=this.fnFindObj(_b);if(0<_c.left){return _d;}}return  -1;};this.fnMoveFirst=function(_b){var _c;var _d;var _e;var _f;var _g;_c=this.fnGetFirstTabIndex();if(_c<0){return;}if(_b<0){return;}if(_b>=this.dsTab.rowcount){return;}_d=this.dsTab.getColumn(_c,"TAB_ID");var _g=this.fnFindObj(_d);_d=this.dsTab.getColumn(_b,"TAB_ID");_e=this.fnFindObj(_d);var _h=_e.getOffsetLeft()-_g.getOffsetLeft();for(var _i=0;_i<this.dsTab.rowcount;_i++ ){_d=this.dsTab.getColumn(_i,"TAB_ID");_e=this.fnFindObj(_d);_f=this.fnFindObj(this.fvExtraBtnPrefix+_d);_e.move(_e.getOffsetLeft()-_h,_e.getOffsetTop());if(this.gfnIsNull(_f)==false){_f.move(_f.getOffsetLeft()-_h,_f.getOffsetTop());}}};this.fnSetActive=function(_b){var _c=this.dsTab.findRow("TAB_ID",_b);if(_c<0){return false;}this.dsTab.set_rowposition(_c);this.fnSetActiveBtn(_b);return true;};this.fnSetActiveBtn=function(_b){var _c;var _d;for(var _e=0;_e<this.dsTab.rowcount;_e++ ){_c=this.fnFindObj(this.dsTab.getColumn(_e,"TAB_ID"));_d=this.fnFindObj(this.fvExtraBtnPrefix+this.dsTab.getColumn(_e,"TAB_ID"));if(_b==this.dsTab.getColumn(_e,"TAB_ID")){_c.setSelectStatus(true);this.fnShowTabBtn(_e);}else{_c.setSelectStatus(false);}}};this.fnShowTabBtn=function(_b){var _c;var _d;var _e;var _f=this.fnFindObj(this.dsTab.getColumn(_b,this.lookup("_ID")));_d=_f.getOffsetLeft();_e=_f.getOffsetRight();if(0<=_d&&this.divTab.getOffsetWidth()>=_e){return;}_e=_f.getOffsetRight();_d=_f.getOffsetLeft();if(_d<0){this.fnMoveFirst(_b);return;}for(var _c=this.fnGetFirstTabIndex()+1;_c<this.dsTab.rowcount;_c++ ){_f=this.fnFindObj(this.dsTab.getColumn(_c,"TAB_ID"));if(_e-_f.getOffsetLeft()<=this.divTab.getOffsetWidth()){break;}this.fnMoveFirst(_c);}};this.fnDelTabBtn=function(_b){var _c=this.fvExtraBtnPrefix+_b;var _d=this.fnFindObj(_b);var _e=this.fnFindObj(_c);var _f=_d.getOffsetWidth()+this.fvBtnGap;var _g=this.dsTab.findRow("TAB_ID",_b);var _h=this.fnFindObj(this.dsTab.getColumn(_g,"TAB_ID"));var _i=_d.getOffsetLeft();if(_i==1){if(this.dsTab.rowcount>1){this.btnPreMdi_onclick();}}this.fnRemoveObj(_c);this.fnRemoveObj(_b);var _j=_b.replace(this.fvTabBtnPrefix,"");var _k=this.dsTab.findRow("WIN_ID",_j);if(_i<0){for(var _l=0;_l<_k;_l++ ){_d=this.fnFindObj(this.dsTab.getColumn(_l,"TAB_ID"));_e=this.fnFindObj(this.fvExtraBtnPrefix+this.dsTab.getColumn(_l,"TAB_ID"));_d.move(_d.getOffsetLeft()+_f,_d.getOffsetTop());_e.move(_e.getOffsetLeft()+_f,_e.getOffsetTop());}}else{for(var _l=_g+1;_l<this.dsTab.rowcount;_l++ ){_d=this.fnFindObj(this.dsTab.getColumn(_l,"TAB_ID"));_e=this.fnFindObj(this.fvExtraBtnPrefix+this.dsTab.getColumn(_l,"TAB_ID"));_d.move(_d.getOffsetLeft()-_f,_d.getOffsetTop());_e.move(_e.getOffsetLeft()-_f,_e.getOffsetTop());}}this.bClose=true;};this.fnFindObj=function(_b){return this.divTab.form.components[_b];};this.fnRemoveObj=function(_b){if(this.fnFindObj(_b)==null){return;}var _c=this.divTab.removeChild(_b);if(_c!=null){_c.destroy();}};this.fnAddObj=function(_b,_a){return this.divTab.addChild(_b,_a);};this.fnRedrawTab=function(){var _b;var _c;this.fnCheckShowBtnAll();this.fnSetTabSpinBtnShow();};this.fnCheckShowBtnAll=function(){if(this.dsTab.rowcount==0){return;}var _b=this.fnFindObj(this.dsTab.getColumn(0,"TAB_ID"));var _c=this.fnFindObj(this.dsTab.getColumn(this.dsTab.rowcount-1,"TAB_ID"));var _d=_b.getOffsetLeft();var _e=_c.getOffsetRight();if(this.divTab.getOffsetWidth()>=(_e-_d)){this.fnMoveFirst(0);return;}};this.fnGetLeft=function(_b){var _c=this.dsTab.findRow("TAB_ID",_b);if(_c==0){return this.fvFirstGap;}var _d=this.fnFindObj(this.dsTab.getColumn(_c-1,"TAB_ID"));return _d.getOffsetRight()+this.fvBtnGap;};this.fnGetWidth=function(_a,_b){var _c=_a.name;var _d=this.dsTab.findRow("TAB_ID",_c);var _e=this.fnFindObj(this.dsTab.getColumn(_d,"TAB_ID"));var _f=nexacro.getTextSize(_b,_a.font);return _f.nx+30;};this.btnArrange_onclick=function(_a,_b){var _c=_a.name.replace("btn","");this.fnArrangeWin(_c);};this.fnSetTabSpinBtnShow=function(){var _b;if(this.dsTab.rowcount==0){this.btnPreMdi.set_enable(false);this.btnNexMdi.set_enable(false);return;}_b=this.fnFindObj(this.dsTab.getColumn(this.dsTab.rowcount-1,"TAB_ID"));if(this.divTab.getOffsetWidth()<_b.getOffsetRight()){this.btnNexMdi.set_enable(true);}else{this.btnNexMdi.set_enable(false);}_b=this.fnFindObj(this.dsTab.getColumn(0,"TAB_ID"));if(_b.getOffsetLeft()<0){this.btnPreMdi.set_enable(true);}else{this.btnPreMdi.set_enable(false);}};this.fnArrangeWin=function(_b){_b=_b.toLowerCase();var _c=this.objApp.gvWorkFrame.frames.length;if(this.objApp.gdsOpenMenu.getRowCount()<1){return;}if(_b!="maximize"){var _d=this.objApp.gvWorkFrame.frames;for(var _k=0;_k<_d.length;_k++ ){_d[_k].set_visible(true);}}this.fvArrangeType=_b;switch(_b){case "maximize":var _e=this.objApp.gvWorkFrame.getActiveFrame().name;for(var _k=0;_k<_c;_k++ ){this.objApp.gvWorkFrame.frames[_k].set_openstatus("maximize");this.objApp.gvWorkFrame.frames[_k].set_showtitlebar(false);this.objApp.gvWorkFrame.frames[_k].set_border("0px solid #006666");this.objApp.gvWorkFrame.frames[_k].form.btnMenuOpen.set_visible(true);}this.isActiveFrame(_e);break;case "closeall":var _f=true;for(var _k=0;_k<_c;_k++ ){if(this.gfnIsNull(this.objApp.gvWorkFrame.frames[_k].form.divWork.form.lookup("fnClose"))){}else{if(this.objApp.gvWorkFrame.frames[_k].form.divWork.form.fnClose()==false){_f=false;break;}}}if(_f){for(var _k=_c;_k>0;_k-- ){this.fnTabOnClose(this.objApp.gvWorkFrame.frames[_k-1].name);}}else{var _g="confirm.before.movepage";var _h="";var _i=_g;var _j="fnMsgCallback";this.gfnAlert(_g,_h,_i,_j);}break;case "hidden":for(var _k=0;_k<_c;_k++ ){this.objApp.gvWorkFrame.frames[_k].set_showtitlebar(true);this.objApp.gvWorkFrame.frames[_k].set_border("1px solid #7f7f7b");this.objApp.gvWorkFrame.frames[_k].set_borderRadius("3px 3px");this.objApp.gvWorkFrame.frames[_k].set_openstatus("minimize");}this.objApp.gvWorkFrame.arrange(_b);break;default:this.objApp.gvVFrameSet1.set_separatesize("30,0,*");for(var _k=0;_k<_c;_k++ ){this.objApp.gvWorkFrame.frames[_k].set_showtitlebar(true);this.objApp.gvWorkFrame.frames[_k].set_border("1px solid #7f7f7b");this.objApp.gvWorkFrame.frames[_k].set_borderRadius("3px 3px");this.objApp.gvWorkFrame.frames[_k].set_openstatus("normal");this.objApp.gvWorkFrame.frames[_k].titlebar.closebutton.set_enable(false);this.objApp.gvWorkFrame.frames[_k].form.btnMenuOpen.set_visible(false);}this.objApp.gvWorkFrame.arrange(_b);break;}};this.isActiveFrame=function(_b,_c){if(this.gfnIsNull(_b)){return true;}var _d=this.objApp.gvWorkFrame.frames;if(this.fvArrangeType=="maximize"){for(var _e=0;_e<_d.length;_e++ ){if(_d[_e].name==_b){_d[_e].set_visible(true);}else{_d[_e].set_visible(false);}}}if(_d[_b]){trace(">>>>>>>>>>>>>>>>>>"+_d[_b]);this.objApp.gvVFrameSet1.set_separatesize("30,0,*");this.fnMoveTab(_b);_d[_b].setFocus();return true;}};this.fnLeftMenuAction=function(_b,_c){if(this.objApp.gvHFrame.separatesize=="0,*"){this.objApp.gvHFrame.set_separatesize("220,*");}else{this.objApp.gvHFrame.set_separatesize("0,*");}};this.btnhome_onclick=function(_a,_b){this.objApp.gvVFrameSet1.set_separatesize("30,*,0");};this.form_onsize=function(_a,_b){this.fnRedrawTab();};this.fnMsgCallback=function(_b,_c){if(_b=="confirm.before.movepage"){if(_c==true){var _d=this.objApp.gvWorkFrame.frames.length;for(var _e=_d;_e>0;_e-- ){this.fnTabOnClose(this.objApp.gvWorkFrame.frames[_e-1].name);}}}};this.fnGetTextSizeCal=function(_b){var _c=new nexacro.Static();_c.init("objStatic",0,0,0,0);this.addChild("objStatic",_c);_c.set_text(_b);_c.set_fittocontents("both");_c.set_visible(false);_c.show();var _d=0,_e=0;_d=_c.getOffsetWidth();_e=_c.getPixelHeight();this.removeChild("objStatic");_c.destroy();return [_d,_e];};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.addEventHandler("onsize",this.form_onsize,this);this.btnHome.addEventHandler("onclick",this.btnhome_onclick,this);this.btnPreMdi.addEventHandler("onclick",this.btnPreMdi_onclick,this);this.btnNexMdi.addEventHandler("onclick",this.btnNexMdi_onclick,this);this.btnMaximize.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnCascade.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnCloseAll.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnHorizontal.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnTilevertical.addEventHandler("onclick",this.btnArrange_onclick,this);this.divTab.addEventHandler("onclick",this.div_Tab_onclick,this);};this.loadIncludeScript("FrameMDI.xfdl");this.loadPreloadList();_a=null;};})();